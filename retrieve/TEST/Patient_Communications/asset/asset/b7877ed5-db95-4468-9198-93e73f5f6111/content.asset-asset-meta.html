
%%[
    SET @emailcheck = "gautampatel.d30@gmail.com"
    SET @CancerCenterSubscribe = RequestParameter("scCancerCenterNewsletter")
    SET @CancerCompassNewsletter = "Active"
    SET @CancerFightersThrive = "Unsubscribed"
    SET @CancerFighters = RequestParameter("scCancerFighters")
    SET @hereAndNow = RequestParameter("scHereAndnow")
    SET @PersonalizedEduEmails = RequestParameter("scPersonalizedEducationalEmails")
    SET @riskManagement = RequestParameter("scRiskManagement")
    SET @emailaddr = @emailcheck
    /*Update Cancer Center Publication List */
    SET @cThriveSKey = lookup(
        "ENT._ListSubscribers",
        "SubscriberKey",
        "ListName",
        "CancerFightersThrive_PL",
        "EmailAddress",
        @emailaddr
    )
    IF @CancerFightersThrive == "Unsubscribed" THEN
        IF empty(@cThriveSKey) THEN
            SET @ll_sub = CreateObject("Subscriber")
            SetObjectProperty(@ll_sub, "EmailAddress", @emailaddr)
            SetObjectProperty(@ll_sub, "SubscriberKey", @emailcheck)
            SET @subscription = CreateObject("SubscriberList") //process_listid from your original email     SetObjectProperty(@subscription, "ID", "3162")
            SetObjectProperty(@subscription, "IDSpecified", "true")
            SetObjectProperty(@subscription, "Status", "Unsubscribed")
            SetObjectProperty(@subscription, "StatusSpecified", "true")
            AddObjectArrayItem(@ll_sub, "Lists", @subscription)
            SET @ll_statusCode = InvokeCreate(@ll_sub, @ll_statusMsg, @errorCode)
        ELSE
            SET @ll_sub = CreateObject("Subscriber")
            SetObjectProperty(@ll_sub, "EmailAddress", @emailaddr)
            SetObjectProperty(@ll_sub, "SubscriberKey", @cThriveSKey)
            SET @subscription = CreateObject("SubscriberList") //process_listid from your original email     SetObjectProperty(@subscription, "ID", "3162")
            SetObjectProperty(@subscription, "IDSpecified", "true")
            SetObjectProperty(@subscription, "Status", "Unsubscribed")
            SetObjectProperty(@subscription, "StatusSpecified", "true")
            AddObjectArrayItem(@ll_sub, "Lists", @subscription)
            SET @ll_statusCode = InvokeUpdate(@ll_sub, @ll_statusMsg, @errorCode)
        ENDIF
    ELSE
        IF not empty(@cThriveSKey) THEN
            SET @ll_sub = CreateObject("Subscriber")
            SetObjectProperty(@ll_sub, "EmailAddress", @emailaddr)
            SetObjectProperty(@ll_sub, "SubscriberKey", @cThriveSKey)
            SET @subscription = CreateObject("SubscriberList") //process_listid from your original email     SetObjectProperty(@subscription, "ID", "3162")
            SetObjectProperty(@subscription, "IDSpecified", "true")
            SetObjectProperty(@subscription, "Status", "Active")
            SetObjectProperty(@subscription, "StatusSpecified", "true")
            AddObjectArrayItem(@ll_sub, "Lists", @subscription)
            SET @ll_statusCode = InvokeUpdate(@ll_sub, @ll_statusMsg, @errorCode)
        ENDIF
    ENDIF
    /*end Of Here And Now Publication List updation*/
    /*Update Cancer Compass Publication List */
    SET @cCompassSKey = lookup(
        "ENT._ListSubscribers",
        "SubscriberKey",
        "ListName",
        "CancerCompassNewsletter_PL",
        "EmailAddress",
        @emailaddr
    )
    IF @CancerCompassNewsletter == "Unsubscribed" THEN
        IF empty(@cCompassSKey) THEN
            SET @ll_sub = CreateObject("Subscriber")
            SetObjectProperty(@ll_sub, "EmailAddress", @emailaddr)
            SetObjectProperty(@ll_sub, "SubscriberKey", @emailcheck)
            SET @subscription = CreateObject("SubscriberList") //process_listid from your original email     SetObjectProperty(@subscription, "ID", "3160")
            SetObjectProperty(@subscription, "IDSpecified", "true")
            SetObjectProperty(@subscription, "Status", "Unsubscribed")
            SetObjectProperty(@subscription, "StatusSpecified", "true")
            AddObjectArrayItem(@ll_sub, "Lists", @subscription)
            SET @ll_statusCode = InvokeCreate(@ll_sub, @ll_statusMsg, @errorCode)
        ELSE
            SET @ll_sub = CreateObject("Subscriber")
            SetObjectProperty(@ll_sub, "EmailAddress", @emailaddr)
            SetObjectProperty(@ll_sub, "SubscriberKey", @cCompassSKey)
            SET @subscription = CreateObject("SubscriberList") //process_listid from your original email     SetObjectProperty(@subscription, "ID", "3160")
            SetObjectProperty(@subscription, "IDSpecified", "true")
            SetObjectProperty(@subscription, "Status", "Unsubscribed")
            SetObjectProperty(@subscription, "StatusSpecified", "true")
            AddObjectArrayItem(@ll_sub, "Lists", @subscription)
            SET @ll_statusCode = InvokeUpdate(@ll_sub, @ll_statusMsg, @errorCode)
        ENDIF
    ELSE
        IF not empty(@cCenterSKey) THEN
            SET @ll_sub = CreateObject("Subscriber")
            SetObjectProperty(@ll_sub, "EmailAddress", @emailaddr)
            SetObjectProperty(@ll_sub, "SubscriberKey", @cCompassSKey)
            SET @subscription = CreateObject("SubscriberList") //process_listid from your original email     SetObjectProperty(@subscription, "ID", "3160")
            SetObjectProperty(@subscription, "IDSpecified", "true")
            SetObjectProperty(@subscription, "Status", "Active")
            SetObjectProperty(@subscription, "StatusSpecified", "true")
            AddObjectArrayItem(@ll_sub, "Lists", @subscription)
            SET @ll_statusCode = InvokeUpdate(@ll_sub, @ll_statusMsg, @errorCode)
        ENDIF
    ENDIF
    /*end Of Here And Now Publication List updation*/
]%%
%%=v(@ll_statusMsg)=%%
<script>(function(a,m,i,g,o,s){o=a.createElement(g);s=a.getElementsByTagName(i)[0];o.src=m.origin+m.pathname+"/_t?eventType=CLOUDPAGESVISIT";o.width=0;o.height=0;o.style.display="none";s.appendChild(o);})(document,window.location,"body","img");</script>
	<script src="https:&#x2F;&#x2F;100010601.collect.igodigital.com&#x2F;collect.js"></script>
	<script>
		if (_etmc && typeof _etmc.push === 'function') {
			_etmc.push(['setOrgId', '100010601']);
			_etmc.push(['trackPageView']);
		}
	</script>